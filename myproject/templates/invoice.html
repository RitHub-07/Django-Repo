{% load static %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Flippkart Invoice #{{ order.id }}</title>
    <style type="text/css">
        /* Client-specific styles */
        body, table, td, a { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        table, td { mso-table-lspace: 0pt; mso-table-rspace: 0pt; }
        img { -ms-interpolation-mode: bicubic; border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; }
        
        /* Reset styles */
        body { margin: 0 !important; padding: 0 !important; width: 100% !important; }
        
        /* iOS BLUE LINKS */
        a[x-apple-data-detectors] {
            color: inherit !important;
            text-decoration: none !important;
            font-size: inherit !important;
            font-family: inherit !important;
            font-weight: inherit !important;
            line-height: inherit !important;
        }
    </style>
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5;">

<!-- Email Container -->
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f5f5f5;">
    <tr>
        <td align="center" valign="top">
            <!-- Main Content (600px width) -->
            <table border="0" cellpadding="0" cellspacing="0" width="600" style="border-collapse: collapse;">
                <!-- Header -->
                <tr>
                    <td align="center" style="padding: 30px 0; background-color: #2962ff;">
                        <table border="0" cellpadding="0" cellspacing="0" width="100%">
                            <tr>
                                <td align="center">
                                    <div class="header" style="background: #2962ff; padding: 30px; text-align: center;">
    <h1 style="color: white; margin: 0; font-size: 32px; font-weight: 700; letter-spacing: 1px;">
        <span style="color: white;">FLIPP</span><span style="color: #FFD700;">KART</span>
    </h1>
    <h2 style="color: white; margin-top: 15px; margin-bottom: 5px;">Order Invoice #{{ order.id }}</h2>
    <p style="color: rgba(255,255,255,0.8); margin: 0;">{{ order.created_at|date:"F j, Y" }}</p>
</div>
                                </td>
                            </tr>
                            <tr>
                                <td align="center" style="padding: 20px 0 0 0; color: #ffffff; font-size: 28px; font-weight: bold;">
                                    ORDER INVOICE
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                
                <!-- Order Info -->
                <tr>
                    <td bgcolor="#ffffff" style="padding: 30px;">
                        <table border="0" cellpadding="0" cellspacing="0" width="100%">
                            <tr>
                                <td width="50%" style="padding-bottom: 20px;">
                                    <strong style="font-size: 16px; color: #2962ff;">ORDER DETAILS</strong><br>
                                    <span style="color: #666666;">#{{ order.id }}</span><br>
                                    {{ order.created_at|date:"F j, Y" }}<br>
                                    Cash on Delivery
                                </td>
                                <td width="50%" style="padding-bottom: 20px;" align="right">
                                    <strong style="font-size: 16px; color: #2962ff;">CUSTOMER</strong><br>
                                    {{ order.name }}<br>
                                    {{ order.email }}<br>
                                    {{ order.phone }}
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="padding-bottom: 20px;">
                                    <strong style="font-size: 16px; color: #2962ff;">SHIPPING ADDRESS</strong><br>
                                    {{ order.address }}, {{ order.city }}, {{ order.pincode }}
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                
                <!-- Products Table -->
                <tr>
                    <td bgcolor="#ffffff">
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse;">
                            <tr bgcolor="#f5f7fa">
                                <th align="left" style="padding: 15px; color: #2962ff; border-bottom: 1px solid #dddddd;">PRODUCT</th>
                                <th align="center" style="padding: 15px; color: #2962ff; border-bottom: 1px solid #dddddd;">PRICE</th>
                                <th align="center" style="padding: 15px; color: #2962ff; border-bottom: 1px solid #dddddd;">QTY</th>
                                <th align="right" style="padding: 15px; color: #2962ff; border-bottom: 1px solid #dddddd;">TOTAL</th>
                            </tr>
                            {% for item in order.orderitem_set.all %}
                            <tr>
                                <td style="padding: 15px; border-bottom: 1px solid #eeeeee; vertical-align: top;">
                                    <strong>{{ item.product.name }}</strong><br>
                                    <small style="color: #888888;">SKU: {{ item.product.sku|default:"N/A" }}</small>
                                </td>
                                <td align="center" style="padding: 15px; border-bottom: 1px solid #eeeeee;">₹{{ item.price }}</td>
                                <td align="center" style="padding: 15px; border-bottom: 1px solid #eeeeee;">{{ item.quantity }}</td>
                                <td align="right" style="padding: 15px; border-bottom: 1px solid #eeeeee;">₹{{ item.total_price }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </td>
                </tr>
                
                <!-- Order Summary -->
                <tr>
                    <td bgcolor="#ffffff" style="padding: 30px;">
                        <table border="0" cellpadding="0" cellspacing="0" width="100%">
                            <tr>
                                <td width="60%"></td>
                                <td width="40%">
                                    <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                        <tr>
                                            <td style="padding: 5px 0;"><strong>Subtotal:</strong></td>
                                            <td align="right" style="padding: 5px 0;">₹{{ order.total_amount }}</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 5px 0;"><strong>Shipping:</strong></td>
                                            <td align="right" style="padding: 5px 0; color: #00c853;">FREE</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 5px 0;"><strong>Tax:</strong></td>
                                            <td align="right" style="padding: 5px 0;">₹0.00</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 10px 0; border-top: 1px solid #dddddd;"><strong>TOTAL:</strong></td>
                                            <td align="right" style="padding: 10px 0; border-top: 1px solid #dddddd; font-size: 18px; color: #2962ff;">₹{{ order.total_amount }}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                
                <!-- Thank You Section -->
                <tr>
                    <td bgcolor="#2962ff" style="padding: 30px; color: #ffffff; text-align: center;">
                        <h2 style="margin: 0 0 15px 0;">Thank You For Your Order!</h2>
                        <p style="margin: 0; line-height: 1.6;">Your order has been confirmed and will be shipped within 24 hours.<br>
                        For any questions, contact us at support@flippkart.com</p>
                    </td>
                </tr>
                
                <!-- Footer -->
                <tr>
                    <td bgcolor="#f5f7fa" style="padding: 20px; text-align: center; color: #888888; font-size: 12px;">
                        <p style="margin: 0;">© {% now "Y" %} Flippkart. All Rights Reserved.<br>
                        123 Business Road, Tech City, TC 12345</p>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

</body>
</html>